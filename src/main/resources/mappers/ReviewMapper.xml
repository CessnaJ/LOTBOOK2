<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="lotbook.lotbook.repository.ReviewMapper">

    <select id="selectReviewsByProductSequence" parameterType="long" resultType="lotbook.lotbook.dto.mapper.ReviewWithNameMapper">
        SELECT
            r.sequence, r.rating, r.comment, r.created_at, r.updated_at,
            r.is_deleted, r.member_sequence, r.product_sequence,
            m.name as member_name
        FROM review as r
                 INNER JOIN member as m ON m.sequence = r.member_sequence
        WHERE product_sequence = #{sequence} AND is_deleted = 0;
    </select>
	
	
	
</mapper>